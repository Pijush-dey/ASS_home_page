{% load static %}
<section class="py-12 md:py-20 lg:py-24 bg-sky-50 dark:bg-slate-900 relative overflow-hidden" id="faqs">
    <div class="absolute -right-20 bottom-0 opacity-[0.03] pointer-events-none select-none z-0">
        <span class="material-icons-outlined text-[400px] text-brand-blue">wb_sunny</span>
    </div>
    <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="text-center mb-12 mx-auto animate-on-scroll fade-up">
            <span
                class="inline-block px-3 py-1 mb-4 text-xs font-bold tracking-widest text-white uppercase rounded bg-primary">Got
                Questions?</span>
            <h2 class="text-4xl md:text-5xl font-extrabold text-brand-blue dark:text-blue-400 mb-6 tracking-tight">
                Frequently Asked<br />Questions</h2>
            <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl leading-relaxed mb-10 mx-auto">Find
                clear
                answers about PM Surya Ghar Yojana, subsidies, and how we bring solar power to your rooftop in
                West
                Bengal.</p>
            <div class="flex flex-wrap gap-3 justify-center mx-auto" id="faq-tabs">
                <button
                    class="px-6 py-2.5 rounded-full text-sm font-bold transition-all shadow-lg shadow-green-200/50 bg-[#6DBE45] text-white"
                    onclick="filterFaq('general', this)">General</button>
                <button
                    class="px-6 py-2.5 rounded-full text-sm font-bold transition-all bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-slate-800 dark:text-gray-400 dark:hover:bg-slate-700"
                    onclick="filterFaq('subsidy', this)">Subsidy &amp; Cost</button>
                <button
                    class="px-6 py-2.5 rounded-full text-sm font-bold transition-all bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-slate-800 dark:text-gray-400 dark:hover:bg-slate-700"
                    onclick="filterFaq('technical', this)">Technical</button>
                <button
                    class="px-6 py-2.5 rounded-full text-sm font-bold transition-all bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-slate-800 dark:text-gray-400 dark:hover:bg-slate-700"
                    onclick="filterFaq('installation', this)">Installation</button>
            </div>
        </div>
        <div class="max-w-5xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-start justify-items-center" id="faq-grid">

                {# General FAQs #}
                {% for faq in general_faqs %}
                <div class="faq-item bg-white dark:bg-card-dark rounded-[20px] shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_20px_40px_rgb(0,0,0,0.08)] transition-all duration-300 cursor-pointer overflow-hidden border border-transparent h-fit w-full animate-on-scroll fade-up relative"
                    data-category="general">
                    <div class="absolute left-0 top-0 bottom-0 w-[5px] bg-brand-green hidden"></div>
                    <button onclick="toggleFaq(this)"
                        class="w-full px-8 py-6 pl-10 text-left flex justify-between items-center focus:outline-none bg-white dark:bg-card-dark">
                        <span class="text-lg md:text-xl font-bold text-blue-900 dark:text-blue-300">{{ faq.question }}</span>
                        <div class="flex-shrink-0 ml-4">
                            <span
                                class="faq-icon flex items-center justify-center w-8 h-8 rounded-full border-2 border-primary text-primary transition-all">
                                <span class="material-icons-outlined text-xl font-bold">add</span>
                            </span>
                        </div>
                    </button>
                    <div class="faq-answer px-8 pl-10 bg-gray-50/80 dark:bg-slate-800/50">
                        <p class="text-base text-gray-700 dark:text-gray-300 leading-[1.6]">
                            {{ faq.answer }}
                        </p>
                    </div>
                </div>
                {% endfor %}

                {# Subsidy FAQs #}
                {% for faq in subsidy_faqs %}
                <div class="faq-item bg-white dark:bg-card-dark rounded-[20px] shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_20px_40px_rgb(0,0,0,0.08)] transition-all duration-300 cursor-pointer overflow-hidden border border-transparent h-fit w-full hidden relative"
                    data-category="subsidy">
                    <div class="absolute left-0 top-0 bottom-0 w-[5px] bg-brand-green hidden"></div>
                    <button onclick="toggleFaq(this)"
                        class="w-full px-8 py-6 text-left flex justify-between items-center focus:outline-none">
                        <span class="text-lg md:text-xl font-bold text-blue-900 dark:text-blue-300">{{ faq.question }}</span>
                        <div class="flex-shrink-0 ml-4">
                            <span
                                class="faq-icon flex items-center justify-center w-8 h-8 rounded-full border-2 border-primary text-primary transition-all">
                                <span class="material-icons-outlined text-xl font-bold">add</span>
                            </span>
                        </div>
                    </button>
                    <div class="faq-answer px-8 pl-10 bg-gray-50/80 dark:bg-slate-800/50">
                        <p class="text-base text-gray-700 dark:text-gray-300 leading-[1.6]">
                            {{ faq.answer }}
                        </p>
                    </div>
                </div>
                {% endfor %}

                {# Technical FAQs #}
                {% for faq in technical_faqs %}
                <div class="faq-item bg-white dark:bg-card-dark rounded-[20px] shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_20px_40px_rgb(0,0,0,0.08)] transition-all duration-300 cursor-pointer overflow-hidden border border-transparent h-fit w-full hidden relative"
                    data-category="technical">
                    <div class="absolute left-0 top-0 bottom-0 w-[5px] bg-brand-green hidden"></div>
                    <button onclick="toggleFaq(this)"
                        class="w-full px-8 py-6 text-left flex justify-between items-center focus:outline-none">
                        <span class="text-lg md:text-xl font-bold text-blue-900 dark:text-blue-300">{{ faq.question }}</span>
                        <div class="flex-shrink-0 ml-4">
                            <span
                                class="faq-icon flex items-center justify-center w-8 h-8 rounded-full border-2 border-primary text-primary transition-all">
                                <span class="material-icons-outlined text-xl font-bold">add</span>
                            </span>
                        </div>
                    </button>
                    <div class="faq-answer px-8 pl-10 bg-gray-50/80 dark:bg-slate-800/50">
                        <p class="text-base text-gray-700 dark:text-gray-300 leading-[1.6]">
                            {{ faq.answer }}
                        </p>
                    </div>
                </div>
                {% endfor %}

                {# Installation FAQs #}
                {% for faq in installation_faqs %}
                <div class="faq-item bg-white dark:bg-card-dark rounded-[20px] shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_20px_40px_rgb(0,0,0,0.08)] transition-all duration-300 cursor-pointer overflow-hidden border border-transparent h-fit w-full hidden relative"
                    data-category="installation">
                    <div class="absolute left-0 top-0 bottom-0 w-[5px] bg-brand-green hidden"></div>
                    <button onclick="toggleFaq(this)"
                        class="w-full px-8 py-6 text-left flex justify-between items-center focus:outline-none">
                        <span class="text-lg md:text-xl font-bold text-blue-900 dark:text-blue-300">{{ faq.question }}</span>
                        <div class="flex-shrink-0 ml-4">
                            <span
                                class="faq-icon flex items-center justify-center w-8 h-8 rounded-full border-2 border-primary text-primary transition-all">
                                <span class="material-icons-outlined text-xl font-bold">add</span>
                            </span>
                        </div>
                    </button>
                    <div class="faq-answer px-8 pl-10 bg-gray-50/80 dark:bg-slate-800/50">
                        <p class="text-base text-gray-700 dark:text-gray-300 leading-[1.6]">
                            {{ faq.answer }}
                        </p>
                    </div>
                </div>
                {% endfor %}

            </div>
        </div>
        <div class="text-center mt-12">
            <button
                class="inline-flex items-center justify-center gap-2 text-primary font-bold text-lg hover:text-orange-600 transition-colors group mx-auto"
                onclick="showAllFaqs()">
                View All Questions
                <span class="material-icons-outlined group-hover:translate-y-1 transition-transform">expand_more</span>
            </button>
        </div>
    </div>
</section>